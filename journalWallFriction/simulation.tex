
\section{Simulation}\label{sec:simulation}


%Two simulations were implemented using non-slip contact walls for position control.  The first controls the position of two robots, the second controls the position of $n$ robots.  
\begin{figure*}
\begin{overpic}[width=0.67\columnwidth]{regionMove1.pdf}\put(55.5,26){\begin{turn}{94} 
{\begin{tikzpicture}[thick]
\draw [red,  - , dotted      ] (1,14.0) -- (0,14.0);
\end{tikzpicture}}\end{turn}}\end{overpic}
\begin{overpic}[width=0.67\columnwidth]{regionMove2.pdf}\put(55.5,26){\begin{turn}{94} 
{\begin{tikzpicture}[thick]
\draw [red,   -  , dotted     ] (1,14.0) -- (0,14.0);
\end{tikzpicture}}\end{turn}}\end{overpic}
\begin{overpic}[width=0.67\columnwidth]{regionMove3.pdf}\put(55.5,26){\begin{turn}{94} 
{\begin{tikzpicture}[thick]
\draw [red,   -   , dotted     ] (1,14.0) -- (0,14.0);
\end{tikzpicture}}\end{turn}}\end{overpic}\\

\begin{overpic}[width=0.67\columnwidth]{regionMove4.pdf}\put(55.5,26){\begin{turn}{94} 
{\begin{tikzpicture}[thick]
\draw [red,   -  , dotted      ] (1,14.0) -- (0,14.0);
\end{tikzpicture}}\end{turn}}\end{overpic}
\begin{overpic}[width=0.67\columnwidth]{regionMove5.pdf}\put(55.5,26){\begin{turn}{94} 
{\begin{tikzpicture}[thick]
\draw [red,   -   , dotted     ] (1,14.0) -- (0,14.0);
\end{tikzpicture}}\end{turn}}\end{overpic}
\begin{overpic}[width=0.67\columnwidth]{regionMove6.pdf}\end{overpic}\\

\begin{overpic}[width=0.67\columnwidth]{Move1.pdf}\put(55.5,32.5){\begin{turn}{50.5} 
{\begin{tikzpicture}[thick]
\draw [red,   -   , dotted    ] (1,14.0) -- (0,14.0);
\end{tikzpicture}}\end{turn}}\end{overpic}
\begin{overpic}[width=0.67\columnwidth]{Move2.pdf}\put(55.5,32.5){\begin{turn}{50.5} 
{\begin{tikzpicture}[thick]
\draw [red,   -   , dotted     ] (1,14.0) -- (0,14.0);
\end{tikzpicture}}\end{turn}}\end{overpic}
\begin{overpic}[width=0.67\columnwidth]{Move3.pdf}\put(55.5,32.5){\begin{turn}{50.5} 
{\begin{tikzpicture}[thick]
\draw [red,   -   , dotted    ] (1,14.0) -- (0,14.0);
\end{tikzpicture}}\end{turn}}\end{overpic}\\

\begin{overpic}[width=0.67\columnwidth]{Move4.pdf}\put(55.5,32.5){\begin{turn}{50.5} 
{\begin{tikzpicture}[thick]
\draw [red,   -  , dotted      ] (1,14.0) -- (0,14.0);
\end{tikzpicture}}\end{turn}}\end{overpic}
\begin{overpic}[width=0.67\columnwidth]{Move5.pdf}\put(55.5,32.5){\begin{turn}{50.5} 
{\begin{tikzpicture}[thick]
\draw [red,   -   , dotted     ] (1,14.0) -- (0,14.0);
\end{tikzpicture}}\end{turn}}\end{overpic}
\begin{overpic}[width=0.67\columnwidth]{finalMove.pdf}\end{overpic}
\caption{\label{fig:reachableSet}
Frames from reconfiguring two particles. 
Top six images show a polygonal workspace and the corresponding $\Delta$ configuration space with its 2-move reachable sets. 
Bottom six images show a disk-shaped workspace and the corresponding $\Delta$ configuration space with its 2-move reachable sets. 
For each the move 1 and 3 are simple translations of both particles and so the reachable sets do not change.
The reachable set morphs during move 2 because one particle is held stationary by the boundary. 
See multimedia attachment for animations of each.
}
\end{figure*}

%\subsection{Position Control of Two Robots}
\begin{figure}
\centering
\begin{overpic}[width=0.49\columnwidth]{middlegoalnum.pdf}\put(0,75){a)}\end{overpic}
\begin{overpic}[width=0.49\columnwidth]{middlegoaldist.pdf}\put(0,75){b)}\end{overpic}
\begin{overpic}[width=0.49\columnwidth]{worstnum.pdf}\put(0,75){c)}\end{overpic}
\begin{overpic}[width=0.49\columnwidth]{worstdist.pdf}\put(0,75){d)}\end{overpic}
\caption{\label{fig:contour}
Plots show performance with one goal on the boundary.
}
\end{figure}

\begin{figure}
\centering
%\begin{overpic}[width=\columnwidth]{deltanum.pdf}\end{overpic}\\
%\vspace{1em}
\begin{overpic}[width=\columnwidth]{deltadist.pdf}\end{overpic}
\vspace{-1em}
\caption{\label{fig:deltanumdist}
The worst-case path length occurs when particles must swap antipodes. This can never be achieved but can be asymptotically approached. Plot shows decreasing error as the number of moves grows.
} 
\end{figure}


\begin{figure}
\centering
\renewcommand{\figwid}{1\columnwidth}
{
\begin{overpic}[width =\figwid]{contourDistnew.png}\put(-2,10){\begin{turn}{90} \tiny{unique particles}
\end{turn}}

\end{overpic}
\vspace{1em}
\begin{overpic}[width =\figwid]{JustSimulationV6.png}\put(-2,10){\begin{turn}{90} \tiny{unique particles}
\end{turn}}

\end{overpic}
\begin{overpic}[width =\figwid]{identical.png}\put(-2,6){\begin{turn}{90} \tiny{interchangeable particles}
\end{turn}}
\end{overpic}
}\caption{\label{fig:contourPlots}{Starting positions of particles $1$ and $2$ and goal position of particle $2$ are fixed, and $\epsilon=0.001$.
 The top row of contour plots show the distance if robot $1$'s goal position is varied in $x$ and $y$. The middle row shows the number of moves required for the same configurations. The bottom row shows the same configuration but when the particles are interchangeable.}
\vspace{-1em}
}
\end{figure}
Algorithm \ref{alg:optimalAlg}  was implemented in Mathematica using particles with zero radius. Figure \ref{fig:reachableSet} shows frames of the algorithm in two representative workspaces, square and disk, with two arbitrary starting and goal configurations.
%An online interactive demonstration and source code of the algorithm are available at \cite{Shahrokhi2015mathematicaParticle}.
%  Fig.~\ref{fig:shapeControlMathematica1}  shows  an implementation of this algorithm with robot initial positions represented by hollow squares and final positions by circles. 
 %Dashed lines show the shortest route if robots could be controlled independently, while solid lines show the optimal shortest  path using uniform inputs.
 
 The contour plots in Fig.~\ref{fig:contour} left show the length of the path for two different settings. Top row considers \{$s_1,s_2,g_1$\} = \{$(0.2,0.2),(-0.1,-0.1),(0,0)$\} and bottom row considers  \{$s_1,s_2,g_1$\} = \{$(0.2,0.2),(-0.1,-0.1),(-0.2,0)$\} each in a workspace with $r= 0.5$, and $g_2$ ranging over all the workspace. Fig.~\ref{fig:contour} right shows the number of moves and left shows the total distance of the path. This plot shows the nonlinear nature of the path planning. When the goal is in the middle of the workspace, a symmetry in the path length is expected as the top row shows. The bottom row shows a shift in the goal position which breaks the symmetry of the path length in the workspace.
 
%The path length grows when the goals have $\pi$ difference and are very close to the boundary. 
 The worst-case occurs when the ending points are at antipodes along the boundary ($\pi$ angular distance). This can never be achieved but can be asymptotically approached as shown in Fig.~\ref{fig:deltanumdist}. 
 Figure \ref{fig:contourPlots} shows the same concepts in a square workspace. Figure \ref{fig:contourPlots} top and middle row considers the particles for three arbitrary starting and goal positions for the particles. 
 Thus far, this paper has considered the particles to be unique. If particles are interchangeable, the path lengths often decrease. The bottom row of  Fig.~\ref{fig:contourPlots} considers interchangeable particles with the same configuration as the middle row with unique particles. The worst-case path lengths decrease by 33\%, 60\%, and 30\% for the three test cases shown. %TODO: shiva, insert numbers.
 
 %If the length of each side of the square workspace is $L$, the worst-case path length is $(\sqrt{2}+2)L$.
 
% The plots in Fig.~\ref{fig:deltanumdist} show the exponentially increasing number of moves and distance when the accuracy of reaching to the goal ($\delta$) is getting to zero when the goal positions have $\pi$ difference with each on the boundaries.










