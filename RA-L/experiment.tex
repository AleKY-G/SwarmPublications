
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{experiment}\label{sec:expResults}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{figure*}[!htb]
\centering
\renewcommand{\figwid}{0.38\columnwidth}
{
\begin{overpic}[width =\figwid]{twoR1.pdf}%\put(12,70){$t$  = 0 s}
\end{overpic}
\begin{overpic}[width =\figwid]{twoR2.pdf}\put(12,70){$t$  = 60 s}
\end{overpic}
\begin{overpic}[width =\figwid]{twoR3.pdf}\put(12,70){$t$  = 150 s}
\end{overpic}
\begin{overpic}[width =\figwid]{twoR4.pdf}\put(12,70){$t$  = 160 s}
\end{overpic}
\begin{overpic}[width =\figwid]{twoR5.pdf}\put(12,70){$t$  = 210 s}
\end{overpic}}
%\vspace{-3em}
\caption{\label{fig:storyReal}Position control of two kilobots (Alg. \ref{alg:XControl}) steered to corresponding colored circle. Boundary walls have nearly infinite friction, so the green robot is stopped by the wall from $t = 60$s until the commanded input is directed away form the wall at $t=150$s, while the pink robot in free-space is unhindered.}
\end{figure*}


%\subsection{Hardware System}

Our experiments are on centimeter-scale hardware systems called \emph{kilobots}.  These allows us to emulate a variety of dynamics, while enabling a high degree of control over robot function, the environment, and data collection. The kilobot, from \citep{Rubenstein2012,rubenstein2014programmable} is a low-cost robot designed for testing collective algorithms with large numbers of robots. It is available as an open source platform or commercially from~\citep{K-Team2015}.  Each robot is approximately 3 cm in diameter, 3 cm tall, and uses two vibration motors to move on a flat surface at speeds up to 1 cm/s.  Each robot has one ambient light sensor that is used to implement \emph{phototaxis},  moving towards a light source. 
In these experiments as shown in Fig.~\ref{fig:setup}, we used $n$=100 kilobots, a 1 m$\times$1 m whiteboard as the workspace, four 30W and four 50W LED floodlights arranged 1.5 m above the plane of the table at the midpoints and vertices of a 6 m square centered on the workspace. An Arduino Uno connected to an 8-relay shield controlled the lights.  Above  the table, an overhead machine vision system tracked the position of the swarm.


\begin{figure}
\begin{center}
	\includegraphics[width=.9\columnwidth]{SetUp.pdf}
\end{center}
\vspace{-1em}
\caption{\label{fig:setup}
Hardware platform:  table with 1$\times$1 m workspace, surrounded by eight  triggered LED floodlights, with an overhead machine vision system.
}
\vspace{-1em}
\end{figure}
\subsection{Hardware Experiment: Position Control of Two Robots}
The hardware platform walls have almost infinite friction, due to a laser-cut, scalloped border. When a kilobot is steered into the scalloped border, they are pinned to the wall unless the global input directs them away from the wall.  Even though the kilobots are stochastic, this wall friction is sufficient to enable independent control of two kilobots, as shown in Fig.~\ref{fig:storyReal}.

\subsection{Hardware Experiment: Position Control of n Robots}
Kilobots have too much stochasticity to implement Alg. \ref{alg:PosControlNRobots}. Instead, a hardware setup with a bounded platform, magnetic sliders, and a magnetic guide board was used.  Designs for each are available at \citep{Arun2016Thingiverse}. The pink boundary is toothed with a white free space, as shown in Fig \ref{fig:construction2d}. Only discrete, 1 cm moves in the $x$ and $y$ directions are used. The goal configuration highlighted in the top right corner represents a `U' made of seven sliders. The dark red configuration is the current position of the sliders. 
Due to the discretized movements allowed by the boundary, drift moves follow a 1 cm square.  Free robots return to their start positions but robots on the boundary to move laterally, generating a net sliding motion.

Fig. \ref{fig:construction2d} follows the motion of the sliders through iterations  $k$=1, 2, and 7. All robots receive the same control inputs, but boundary interactions break the control symmetry.  Robots reach their respective goal position in a first-in, first-out arrangement beginning with the bottom-left robot from the staging zone occupying the top-right position of the build zone.

\subsection{Hardware Experiment: Control of Covariance}
To demonstrate covariance control, up to 100 kilobots were placed on the workspace and manually steered with lights, using friction with the boundary walls to vary the covariance from  -4000 to 3000 cm$^2$.  The resulting covariance is plotted in Fig.~\ref{fig:covExperiment}, along with snapshots of the swarm.




\begin{figure}
\begin{center}
	\includegraphics[width=\columnwidth]{newExperiment.pdf}
\end{center}
\vspace{-1em}
\caption{\label{fig:covExperiment}
Hardware demonstration steering $\approx 50$ kilobot robots to desired covariance. The goal covariance is negative in first 100 seconds and is positive in the next 100 seconds. The actual covariance is shown in different trials. Frames above the plot show output from machine vision system and an overlaid covariance ellipse.
\vspace{-1em}
}
\end{figure}

